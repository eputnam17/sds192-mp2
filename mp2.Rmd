---
title: "Mini-Project 2"
author: "Sarah, Berry, Eva"
date: "2019-03-24"
output: 
  html_document:
    code_folding: show
---

```{r, message=FALSE}
library(tidyverse)
library(dplyr)
library(lubridate)
library(scales)
```

```{r, message=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
devtools::install_github("benmarwick/wordcountaddin")
```


> Word count: `r wordcountaddin::word_count()`

```{r, message=FALSE}

# Splits contributions into the date it occurred, transaction amount, and the the recipient's ID
ContributionsToEach <- contributions %>%
  select(transaction_dt, transaction_amt, cand_id, name) %>%
# The date format was weird and ineffective so this splits it into 3 columns, for year, month, and day. I used "lubridate" which should be part of tidyverse
  mutate(FullDate = mdy(transaction_dt)) %>%
  separate(FullDate, sep="-", into = c("year", "month", "day"))

# There are some weird negative contribution amounts, which I assume are cancelled checks. We should do a better job removing those but it was really skewing the data so I removed the negative contributions and did calculations from here on with only postive contributions
ContributionsToEachPositive <- ContributionsToEach %>%
  filter(transaction_amt > 0)

#In progress: Remove cancelled donations
#Cancellations <- ContributionsToEach %>%
  #filter(transaction_amt < 0) 
#ContributionsToEachClean <- ContributionsToEachPositive %>%
  #filter(cand_id != [anything from Cancellations])

  
  

BigContributions2012 <- ContributionsToEachPositive %>%
  filter(year == "2012") %>%
  filter(transaction_amt > 3000000)

glimpse(BigContributions2012)
```

```{r, message=FALSE}
# everything
# I loaded the scales package, which should be in ggplot of tidyverse to make the tranaction amount be in dollers and not exponants
ggplot(ContributionsToEachPositive, aes(x = transaction_dt, y = transaction_amt)) + 
  scale_y_continuous(labels = dollar) +
  geom_point() +
  labs(title = "Large Contributions in the 2012 Presidential Campaign")
```


```{r, message=FALSE}

# just 2012 contributions on a log scale with text saying who donated each big donation.
# Democrat = MUNDY KATOWITZ MEDIA, GMMB, . Republican = MENTZER MEDIA SERVICES,CROSSROADS MEDIA, NATIONAL MEDIA RESEARCH PLANNING(?), AMERICAN RAMBLER PRODUCTIONS,

ggplot(BigContributions2012, aes(x = transaction_dt, y = transaction_amt, label = name)) +
  scale_y_log10(labels = dollar) +
  geom_text(size = 2) +
  geom_point(size = .5) +
  labs(title = "Top Contributers of the 2012 Presidential Campaign")
```


#im just going to type up anything that sounds interesting or possibly relevent for our write up.Feelfree to edit any of it

Although all United States presidential elections are unique, the 2011 â€“ 2012 campaign data is particularly interesting. In addition to the first time in U.S. history that an African American incumbent president ran for re-election, this was the first election to occur after the 2010 Supreme Court opinion, Citizens United, which removed many of the restrictions regulating political campaign spending. 

